# PairTCR Web Interface 更新日志

## [任务管理增强版] - 2024-01-15

### 新增功能 ✨
- **任务ID查看**: 用户可以通过输入任务ID直接查看任务状态和日志
  - 在主页面新增"查看任务"功能区域
  - 支持UUID格式验证和错误提示
  - 支持Enter键快速查询
- **灵活的任务提交流程**: 任务提交后用户可以选择立即查看或继续提交
  - 取消自动跳转，让用户自主选择
  - 新增"立即查看"和"继续提交任务"按钮
  - 改进的成功提示界面
- **任务ID管理**: 便捷的任务ID复制和管理功能
  - 一键复制任务ID到剪贴板
  - 任务ID自动填入查看框
  - 支持多种浏览器的复制功能

### 界面改进 🎨
- 添加了中文本土化的任务查看界面
- 优化了任务提交成功的提示样式
- 改进了用户交互流程，支持批量任务提交

### 技术改进 🔧
- 增强了任务查询API的错误处理
- 添加了前端任务ID格式验证
- 优化了WebSocket连接管理

### 文档更新 📖
- 更新了使用指南，添加任务管理相关步骤
- 新增任务查看功能的常见问题解答
- 创建了专门的功能测试脚本

---

## [输出路径配置版] - 2024-07-03

### 新增功能 ✨
- **输出路径配置**: 新增Output Directory字段，用户可以自定义结果输出路径
  - 支持用户指定自定义输出目录
  - 默认行为：在输入目录同级创建以File Prefix命名的文件夹
  - 智能处理路径边界情况（尾部斜杠、空白字符等）

### 界面改进 🎨
- 在主页面添加了"Output Directory"输入字段
- 在任务监控页面显示输出路径信息
- 更新了参数说明和使用指南

### 技术改进 🔧
- 优化了输出路径处理逻辑
- 增强了参数验证和错误处理
- 添加了专门的测试用例验证新功能

### 文档更新 📖
- 更新了USAGE.md，添加输出路径配置说明
- 更新了参数说明表格
- 改进了使用步骤描述

---

## 使用示例

### 默认输出路径（推荐）
- **输入目录**: `/data/fastq_files/sample1/`
- **File Prefix**: `TCR_TSO_18`
- **Output Directory**: 留空
- **实际输出**: `/data/fastq_files/TCR_TSO_18/`

### 自定义输出路径
- **输入目录**: `/data/fastq_files/sample1/`
- **Output Directory**: `/results/my_analysis/`
- **实际输出**: `/results/my_analysis/`

---

## 兼容性说明

此更新完全向后兼容，不会影响现有的工作流程。如果不填写Output Directory字段，将自动使用默认的输出路径规则。 